import random
# Generates a regex string from nonogram clues
rows = [
    [0],
    [2, 1, 2, 2, 1, 1, 1, 1, 1, 3, 1, 2, 2, 2, 3, 3, 1, 3],
    [1, 2, 2, 3, 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1],
    [1, 2, 1, 1, 3, 1, 3, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 1, 3, 1, 1, 3],
    [1, 1, 1, 1, 1, 1, 2, 3, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1],
    [3, 3, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 3, 2, 3, 3, 1, 3, 2, 3, 3, 3, 1, 3, 3, 1, 1, 3],
    [3],
    [2, 2, 3, 3, 1, 1, 3, 2, 3, 1, 1, 1, 1, 1],
    [2, 1, 1, 1, 1, 1, 1, 2, 3, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 1, 1, 3, 3, 3, 1, 3, 1, 1, 1, 1, 3],
    [1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 1, 3, 1, 3, 2, 3, 2, 1, 3, 2, 2, 3, 1, 3, 1, 3, 3, 3, 1, 1, 3, 1, 1, 1, 2, 3, 1],
    [3],
    [2, 2, 2, 1, 1, 3, 1, 1, 3, 2, 3, 2, 2, 1, 1, 1, 2],
    [2, 1, 1, 2, 1, 1, 1, 3, 1, 1, 3, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 3, 1, 2],
    [1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 3, 3, 1, 3, 1, 1, 3, 3, 3, 1, 1, 1, 3, 1, 1, 3, 3, 1, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 2],
    [3, 1, 1, 3, 1, 1, 3, 3, 1, 1, 1, 1, 1, 3, 1, 3, 1, 3, 3, 3, 1, 1, 3, 3, 1, 1, 1, 1, 1, 2],
    [0],
]

cols = [
    [0],
    [1, 1, 4, 1],
    [5, 1, 1],
    [1, 3, 1],
    [0],
    [1, 2, 1, 4],
    [2, 1, 1, 1],
    [3, 1, 3],
    [0],
    [2, 3, 1, 4],
    [1, 1, 1, 2, 1],
    [1, 1, 10],
    [0],
    [1, 4, 4],
    [5, 1, 1, 1],
    [1, 1, 5, 3],
    [0],
    [1, 3, 4],
    [5, 1, 1, 1],
    [1, 1, 4, 5],
    [0],
    [3, 1, 4],
    [2, 2, 1, 1, 1, 1],
    [1, 1, 1, 1, 3],
    [0],
    [5, 2, 4],
    [2, 1, 1, 1],
    [5, 1, 1, 2],
    [0],
    [5, 4, 3],
    [1, 1, 1],
    [3, 2, 5],
    [0],
    [3, 4, 4],
    [1, 1, 1, 3],
    [5, 5, 4],
    [0],
    [1, 3, 1, 1],
    [1, 1, 1, 1, 1, 1, 1],
    [5, 1, 2, 2],
    [0],
    [1, 3, 1, 1],
    [1, 1, 1, 1, 1],
    [1, 1, 2, 1],
    [0],
    [2, 1, 3],
    [1, 1, 1, 1],
    [5, 1, 5],
    [0],
    [4, 3, 1],
    [1, 1, 1, 1],
    [5, 5, 1],
    [0],
    [1, 1, 4],
    [1, 1, 1],
    [1, 1, 2],
    [0],
    [3, 1, 4, 1, 1, 1],
    [1, 1, 1, 1, 1, 1],
    [5, 2, 5],
    [0],
    [4, 1, 1, 1, 4],
    [1, 1, 1, 1, 1, 1, 1, 1],
    [5, 5, 1, 3],
    [0],
    [3, 4, 1, 1, 1],
    [1, 1, 1, 1, 1, 1, 1],
    [4, 1, 3, 5],
    [0],
    [1, 1, 1, 1, 1, 1],
    [1, 1, 1, 1, 2],
    [1, 5, 1, 1],
    [0],
    [4, 1, 1, 4],
    [1, 1, 1, 2, 1, 1],
    [1, 3, 1, 1, 5],
    [0],
    [1, 1, 1, 1, 4],
    [1, 1, 1, 1, 1, 1, 1],
    [5, 1, 1, 3],
    [0],
    [1, 3, 4],
    [1, 1, 1],
    [5, 5, 2],
    [0],
    [1, 4, 3],
    [1, 1, 1],
    [1, 3, 5],
    [0],
    [4, 2, 4],
    [3, 1, 1, 3],
    [4, 5, 4],
    [0],
    [5, 1],
    [1, 1, 3, 1],
    [3, 1],
    [0],
    [1, 1, 1, 3, 1, 1],
    [1, 1, 1, 1, 2, 2],
    [5, 5, 3],
    [0],
]

re = "^(?="

to_shuffle = []
for k,c in enumerate(cols): # each col in cols
    tre = ""
    tre += "(?="
    offset1 = ".{" + str(k) + "}"
    offset2 = ".{" + str(len(cols)-k-1) + "}"
    if k == 0:
        offset1 = ""
    if k == 1:
        offset1 = "."
    if k + 2 == len(cols):
        offset2 = "."
    if k + 1 == len(cols):
        offset2 = ""
    if c != [0]:
        for l,v in enumerate(c):
            if l == 0:
                tre += "(?:" + offset1 + "\\." + offset2 + ")*"
            if v == 1:        
                tre += "(?:" + offset1 + "#" + offset2 + ")"
            else:
                tre += "(?:" + offset1 + "#" + offset2 + "){" + str(v) + "}"
            if l + 1 == len(c):
                tre += "(?:" + offset1 + "\\." + offset2 + ")*"
            else:
                tre += "(?:" + offset1 + "\\." + offset2 + ")+"
    else:
        tre += "(?:" + offset1 + "\\." + offset2 + "){" + str(len(rows)) + "}"
            
    tre += ")"
    to_shuffle.append(tre)
random.shuffle(to_shuffle)
re += "".join(to_shuffle)

re += ")(?=^.{1919}$)"

for j,r in enumerate(rows):
    re += "(\\.*"
    if r != [0]:
        for k, v in enumerate(r):
            if v > 1:
                re += "#{" + str(v) + "}"
            else:
                re += "#"
            if k + 1 == len(r):
                re += "\\.*"
            else:
                re += "\\.+"
    re += ")(?<=.{" + str((j+1)*len(cols)) + "})(?<!.{" + str((j+1)*len(cols)+1) + "})"
re += "$"

print(re)